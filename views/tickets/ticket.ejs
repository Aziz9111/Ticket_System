<%- include("../includes/head") , { title: 'انشاء طلب جديد' } %>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<link rel="stylesheet" href="/styles/auth.css" />
<link rel="stylesheet" href="/styles/navbar.css" />

<body>
  <%- include('../includes/header') %>
  <main>
    <form
      class="validation-form"
      action="/create_ticket"
      method="POST"
      enctype="multipart/form-data"
    >
      <h1>إنشاء طلب</h1>
      <% if (messages.error ) {%>
      <div class="error">
        <li class="fa fa-times-circle"><%= messages.error %></li>
      </div>
      <% } %>
      <div>
        <label for="title">العنوان: <span class="req">*</span></label>
        <input
          type="title"
          id="title"
          name="title"
          value="<%= formData ? formData.title : '' %>"
          required
          oninvalid="this.setCustomValidity('الرجاء إدخال العنوان')"
          oninput="this.setCustomValidity('')"
        />
      </div>

      <div>
        <label for="description">الوصف: <span class="req">*</span></label>
        <textarea
          rows="5"
          cols="80"
          type="description"
          id="description"
          name="description"
          required
          maxlength="1000"
          oninvalid="this.setCustomValidity('الرجاء إدخال الوصف')"
          oninput="this.setCustomValidity('')"
        >
<%= formData ? formData.description : '' %></textarea
        >
        <span class="uinfo">* اقصى عدد للاحرف هو 1000 حرف</span>
      </div>

      <div>
        <label for="image">صورة المشكلة:</label>
        <input
          type="file"
          id="image"
          name="image"
          value="<%= formData ? formData.image : '' %>"
          accept="image/png, image/jpg"
        />
        <span class="uinfo">* الصيغ المسموح بها هي (jpeg, png, و jpg)</span>
      </div>

      <div>
        <label for="email">الايميل الخاص بك: <span class="req">*</span></label>
        <input
          type="email"
          id="email"
          name="email"
          value="<%= formData ? formData.email : '' %>"
          required
          oninvalid="this.setCustomValidity('الرجاء إدخال البريد الإلكتروني')"
          oninput="this.setCustomValidity('')"
        />
      </div>
      <div
        class="g-recaptcha"
        data-sitekey="6LfaiJsqAAAAAPSDWEaYPXqJqdWLV-6pFYHNefG-"
        data-action="Create Ticket"
        aria-required="true"
      ></div>
      <br />
      <button type="submit" class="btn">إنشاء</button>
    </form>
  </main>
  <%- include("../includes/footer") %>
</body>
